---
title: 性能优化
date: 2019-07-19 19:06:50
categories: 
- 前端技术
---


- 性能关乎用户的去留；
- 性能关乎利润的转化率提升；
- 性能关乎用户体验；
- 性能关乎用户成本（流量费）。
<!--more-->

# 一、各方面分析影响性能可能

## (1) 发送的资源
-  **CSS**: 是一种阻塞渲染的资源，CSS 框架的开销可能导致渲染延迟严重(为了用栅格布局，引用了整套bootstrap)。 视情况移除不必要的开销，以加速渲染。
-  **JavaScript**:  JavaScript 是在网页上提供的最昂贵的资源，此类资源必须经过下载、解析、编译和执行。因此尽量精简JS代码，避免杀猪用牛刀(jQuery能否用更小的zepto替代？zepto能否用原生querySelector替代？)。 


## (2) 发送资源的方式
- 迁移至 HTTP/2。 HTTP/2 可解决 HTTP/1.1 的许多固有性能问题，例如并发请求限制和缺乏标头压缩。
- 尽早下载关键资源。 rel=preload，允许在浏览器发现关键资源之前提前提取这些资源。

## (3) 发送的数据量
- 压缩代码
- 服务器配置为资源执行压缩，GZIP 是常用的选项。压缩不是解决性能问题的万能方法：某些隐式压缩的文件格式（例如 JPEG、PNG、GIF、WOFF 等）由于已经过压缩，则不会响应压缩操作。
- [优化图像](https://developers.google.cn/web/fundamentals/performance/optimizing-content-efficiency/automating-image-optimization/#what-is-webp)以确保您的网站尽可能发送较少的图像数据。 由于图像在网页上每页负载中占据较大比例，因此图像优化成为提升性能的独特方式
- 提供响应式图像。 向 `<img>` 元素添加 srcset 属性，以指定浏览器可以选择的一组图像。 在较复杂的情况下，您可以使用 `<picture>` 帮助浏览器选择最佳格式（例如选择 WebP 而不是 JPEG 或 PNG），或同时传送适合不同屏幕尺寸的不同格式的图像。
- 使用视频而非动画 GIF。 动画 GIF 会占用大量空间。 同等画质的视频则小得多，通常低 80% 左右。